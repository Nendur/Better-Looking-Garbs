# Character triggers for traits and modifiers.

### Characters:

# Prisoner that is kept gagged.
blg_dangerous_prisoner = {
	OR = {
		has_character_modifier = accused_apostate
		has_character_modifier = highly_suspect
		has_character_modifier = known_witch
		has_character_modifier = suspected_witch
		has_character_modifier = known_satanist
		has_character_modifier = suspected_demon_spawn
		has_character_modifier = voice_of_satan
	}
}

# Devout personality.
blg_devout = {
	OR = {
		trait = zealous
		has_focus = focus_theology
		is_ascetic_trigger = yes
		blg_pilgrimage = yes
		has_minor_title = preacher_mt
	}
}

# Character covered in dirt.
blg_dirty = {
	OR = {
		trait = uncouth
		has_character_modifier = dirty_hands
	}
}

# Attractive character.
blg_fair = {
	trait = fair
}

# Characters prefers more than common clothing.
blg_fashionable = {
	trait = proud
}

# Character of a guard order.
blg_guard = {
	OR = {
		trait = varangian
		trait = shieldmaiden
		trait = gladiator
		has_character_flag = rtp_temporary_soldier
		has_character_flag = rtp_temporary_mercenary
		has_character_flag = rtp_temporary_crusader
		has_minor_title = sellsword_mt
		has_minor_title = holy_warrior_mt
		has_minor_title = guard_mt
		has_minor_title = veteran_mt
		has_minor_title = bailif_mt
		has_minor_title = officer_mt
	}
}

# Portrait override for ihram clothes.
blg_portrait_ihram = {
	portrait_has_trait = on_hajj
}

# Very learned character.
blg_learned = {
	OR = {
		trait = scholar
		trait = hafiz
		trait = administrator
		trait = strategist
		trait = theologian
		trait = physician
		has_minor_title = scribe_mt
		has_minor_title = librarian_mt
	}
}

# Character dressing modestly.
blg_modest = {
	OR = {
		is_married = yes
		any_spouse_even_if_dead = { is_alive = no }
		age >= 40
		trait = chaste
		trait = celibate
		blg_devout = yes
	}
	NOT = { trait = lustful }
}

# Character covered in mud.
blg_mudsplatter = {
	OR = {
		has_character_modifier = mud_splatter
		has_character_modifier = fell_into_the_river
		has_character_modifier = dung_collector
	}
}

# Peasant leader.
blg_peasant = {
	OR = {
		trait = peasant_leader
		trait = heresiarch
	}
}

# Portrait override for monks.
blg_portrait_monk = {
	portrait_has_trait = monk
}

# Portrait override for nuns.
blg_portrait_nun = {
	portrait_has_trait = nun
}

# Declared a saint.
blg_saint = {
	is_alive = no
	OR = {
		trait = saint
		has_nickname = nick_the_saint
	}
}

# Enslaved.
blg_slave = {
	death_reason = death_slavery
}

# Socializer personality.
blg_socializer = {
	OR = {
		trait = gregarious
		trait = socializer
		trait = rtp_chef_tr
		has_minor_title = server_mt
		has_minor_title = minstrel_mt
	}
}

# Urban town oriented.
blg_townsfolk = {
	OR = {
		employer = {
			OR = {
				is_republic = yes
				government = rtp_republic_g
				government = rtp_baron_republic_g
			}
		}
		has_minor_title = barterer_mt
		has_minor_title = beggar_mt
		has_minor_title = shop_assistant_mt
		has_minor_title = pickpocket_mt
		has_minor_title = town_crier_mt
		has_minor_title = peddler_mt
		has_minor_title = diplomat_mt
		has_minor_title = shop_keeper_mt
	}
}

# Ugly face.
blg_ugly = {
	trait = ugly
}

### Events:

# A desert theme event.
blg_desert_journey = {
	OR = {
		trait = on_hajj
		has_character_modifier = zun_judgement
	}
}

# Participating at an execution.
blg_executioner = {
	OR = {
		has_character_flag = holding_blot
		has_character_flag = attending_blot
		has_minor_title = title_state_inquisitor
	}
}

# Participating in a feast.
blg_feast = {
	OR = {
		has_character_flag = party_host
		has_character_flag = party_guest
		has_character_flag = host_feast_started
		has_character_flag = guest_feast_started
		has_character_flag = blot_feast
		has_character_flag = blot_feast_vassal
		has_character_flag = holding_ukon_juhla
		has_character_flag = ukon_juhla_feast_vassal
		has_character_flag = holding_uzgavenes
		has_character_flag = uzgavenes_feast_vassal
		has_character_flag = holding_jarilo
		has_character_flag = holding_passover
		has_character_flag = attending_passover
		has_character_flag = jarilo_feast_vassal
		has_character_flag = diwali_feast_begun
		has_character_flag = attending_diwali_feast
		has_character_flag = zun_feast_begun
		has_character_flag = attending_zun_feast
		has_character_flag = holding_sadah_feast
		has_character_flag = attending_sadah
		has_character_flag = holding_bema
		has_character_flag = attending_bema
		has_character_flag = flag_holding_great_tribal_festival
		has_any_opinion_modifier = opinion_great_tribal_festival_guest
	}
}

# Character likely to be outdoors in the wilds.
blg_outdoors = {
	OR = {
		trait = hunter
		trait = falconer
		has_minor_title = poacher_mt
		has_minor_title = brigand_mt
		has_minor_title = bandit_mt
		has_character_modifier = holding_grand_hunt
		has_character_flag = hunting_tigers
		has_character_flag = khagan_holding_nerge
		has_character_flag = vassal_holding_nerge
		has_character_flag = khagan_finishing_nerge
		has_character_flag = vassal_finishing_nerge
		has_character_modifier = enjoying_the_countryside
		has_nickname = nick_of_the_wilds
	}
}

# On a pilgrimage.
blg_pilgrimage = {
	OR = {
		trait = on_pilgrimage
		trait = on_indian_pilgrimage
	}
}

# In a tournament.
blg_tournament = {
	OR = {
		has_minor_title = veteran_mt
		has_minor_title = officer_mt
		has_character_flag = attending_tournament
		has_character_flag = attending_tournament_furusiyya
		has_character_modifier = holding_nomad_wargames
		has_character_flag = attending_nomad_tournament
		has_character_flag = flag_preparing_blood_games
	}
}

# Out on a longer journey.
blg_travelling = {
	OR = {
		trait = travelling
		blg_pilgrimage = yes
		trait = on_hajj
		trait = kow_tow_travels
		has_character_modifier = holding_grand_hunt
		has_character_flag = holding_tiger_hunt
	}
}

# Arrived at the journey destination.
blg_travelling_arrived = {
	OR = {
		has_character_flag = hajj_arrived_in_mecca
		has_character_flag = kow_tow_visited_temple
		has_character_flag = kow_tow_played_go
		has_character_flag = read_the_guanzi
		has_character_flag = visited_market
		has_character_flag = kow_tow_bad_outcome
		has_character_flag = kow_tow_okay_outcome
		has_character_flag = kow_tow_great_outcome
	}
}
